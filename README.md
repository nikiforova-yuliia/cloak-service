# üõ°Ô∏è Cloak Service

**Cloak Service** ‚Äî —Ü–µ —Å–µ—Ä–≤—ñ—Å –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –ø—ñ–¥–æ–∑—Ä—ñ–ª–∏—Ö IP-–∞–¥—Ä–µ—Å —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó –±–æ—Ç—ñ–≤. –ô–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–∞ –∑–∞–¥–∞—á–∞ ‚Äî –æ—Ç—Ä–∏–º–∞—Ç–∏ IP-–∞–¥—Ä–µ—Å—É —á–µ—Ä–µ–∑ REST API, –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ó—ó –Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–º –∫—Ä–∏—Ç–µ—Ä—ñ—è–º —Ç–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç: **–±–æ—Ç** —á–∏ **–Ω–µ –±–æ—Ç**.

## üìå –û—Å–Ω–æ–≤–Ω–∞ —ñ–¥–µ—è

C–µ—Ä–≤—ñ—Å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î API [https://vpnapi.io/](https://vpnapi.io/api-documentation) –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ IP-–∞–¥—Ä–µ—Å–∏, –æ—Ç—Ä–∏–º—É—é—á–∏ —Ä–æ–∑—à–∏—Ä–µ–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –Ω–µ—ó. –í–∞–ª—ñ–¥–∞—Ü—ñ—è –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ —Ç—Ä—å–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞—Ö:

### 1. üìã –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏—Ö IP-–∞–¥—Ä–µ—Å
–°–µ—Ä–≤—ñ—Å –º—ñ—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É –±–∞–∑—É –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏—Ö IP, —â–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É MongoDB.  
‚û°Ô∏è [Seed –∑ IP](https://github.com/nikiforova-yuliia/cloak-service/blob/master/migrations/20250713225433-seed-forbidden-ip-addresses.js)

### 2. üåç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–µ—Å–∞–Ω–∫—Ü—ñ–æ–Ω–æ–≤–∞–Ω–∏—Ö –∫—Ä–∞—ó–Ω
IP, —â–æ –Ω–∞–ª–µ–∂–∞—Ç—å –ø–µ–≤–Ω–∏–º –∫—Ä–∞—ó–Ω–∞–º (–Ω–∞–ø—Ä., –ö–∏—Ç–∞–π, –Ü—Ä–∞–Ω), –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–≤–∞–∂–∞—é—Ç—å—Å—è –ø—ñ–¥–æ–∑—Ä—ñ–ª–∏–º–∏.  
‚û°Ô∏è [Seed –∑ –∫—Ä–∞—ó–Ω–∞–º–∏](https://github.com/nikiforova-yuliia/cloak-service/blob/master/migrations/20250713231001-seed-unauthorized-countries.js)

### 3. üîí –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ–∑–Ω–∞–∫ –∞–Ω–æ–Ω—ñ–º–Ω–æ—Å—Ç—ñ
–ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ `security` –∑ VPN API –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å—Å—è —Ç–∞–∫—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏:
- `vpn`
- `proxy`
- `tor`
- `relay`

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç
–Ø–∫—â–æ IP –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å **—Ö–æ—á –æ–¥–Ω—É** –∑ –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–¥—å –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫:

```json
{
  "isBot": true
}
```

–î–æ —Ç–æ–≥–æ –∂, IP –±—É–¥–µ –¥–æ–¥–∞–Ω–æ –¥–æ –±–∞–∑–∏ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏—Ö, —è–∫—â–æ –π–æ–≥–æ —Ç–∞–º —â–µ –Ω–µ –±—É–ª–æ. –¢–∞–∫–∏–º —á–∏–Ω–æ–º –±–∞–∑–∞ –ø–æ—Å—Ç—É–ø–æ–≤–æ –∑–±–∞–≥–∞—á—É—î—Ç—å—Å—è.

> ‚ö†Ô∏è –£–≤–∞–≥–∞: –¥–æ—Å—Ç—É–ø–Ω–∏–π –ª—ñ–º—ñ—Ç API ‚Äî –¥–æ **1000 –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ –¥–æ–±—É**.

---

## ‚öôÔ∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ—î–∫—Ç—É

> –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ **–ø–æ—Ä—Ç `3001`** –≤—ñ–ª—å–Ω–∏–π –Ω–∞ –≤–∞—à—ñ–π –º–∞—à–∏–Ω—ñ.

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone https://github.com/nikiforova-yuliia/cloak-service.git
cd cloak-service
```

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å [Docker](https://www.docker.com/) —Ç–∞ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—ñ–Ω –∑–∞–ø—É—â–µ–Ω–∏–π.

–£ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

```bash
docker-compose build
```

```bash
docker-compose up
```

Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º:  
üîó [http://localhost:3001/swagger](http://localhost:3001/swagger)

---

## üß™ –¢–µ—Å—Ç–æ–≤—ñ IP-–∞–¥—Ä–µ—Å–∏

### üåê IP, —è–∫—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–∏–º –∫—Ä–∞—ó–Ω–∞–º:

| IP              | –ö—Ä–∞—ó–Ω–∞ |
|------------------|--------|
| `39.156.69.79`   | –ö–∏—Ç–∞–π  |
| `103.111.69.255` | –Ü—Ä–∞–Ω   |
| `1.23.255.255`   | –Ü–Ω–¥—ñ—è  |
| `109.120.159.0`  | –†–æ—Å—ñ—è  |

‚û°Ô∏è –í—ñ–¥–ø–æ–≤—ñ–¥—å –¥–ª—è —Ü–∏—Ö IP: `isBot: true`

### ‚ö†Ô∏è –Ü–Ω—à—ñ –ø—Ä–∏–∫–ª–∞–¥–∏:

- `2001:4860:4860::8888` ‚Äî IP –∑ –æ–∑–Ω–∞–∫–∞–º–∏ VPN ‚Üí `isBot: true`
- `2001:0db8:85a3:0000:0000:8a2e:0370:7334` ‚Äî –ø—Ä–∏–≤–∞—Ç–Ω–∏–π IP ‚Üí –ø–æ–º–∏–ª–∫–∞ `422 Unprocessable Entity`

–î—ñ–∑–Ω–∞—Ç–∏—Å—å —Å–≤–æ—é IP-–∞–¥—Ä–µ—Å—É –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –º–æ–∂–Ω–∞ —Ç—É—Ç:  
üîó [https://whatismyipaddress.com/](https://whatismyipaddress.com/)